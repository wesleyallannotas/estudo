-- Criando Tabelas Corrigidos
CREATE TABLE CLIENTE(CODIGO INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
                     TELEFONE VARCHAR(15),
                     CEP VARCHAR(9),
                     NUMERO VARCHAR(10));
CREATE TABLE PF(CPF INT PRIMARY KEY NOT NULL,
                CLIENTE_CODIGO INT NOT NULL,
                FOREIGN KEY (CLIENTE_CODIGO) REFERENCES CLIENTE(CODIGO));
CREATE TABLE PJ(CNPJ INT PRIMARY KEY NOT NULL,
                CLIENTE_CODIGO INT NOT NULL,
                FOREIGN KEY (CLIENTE_CODIGO) REFERENCES CLIENTE(CODIGO));
CREATE TABLE EDITORA(CODIGO INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
                     CEP VARCHAR(9) NOT NULL,
                     NUMERO VARCHAR(10) NOT NULL,
                     TELEONE VARCHAR(15) NOT NULL,
                     GERENTE VARCHAR(150) NOT NULL);
CREATE TABLE LIVRO(ISBN INT PRIMARY KEY NOT NULL,
                   ASSUNTO VARCHAR(150) NOT NULL,
                   QUANTIDADE INT NOT NULL,
                   EDITORA_CODIGO INT NOT NULL,
                   FOREIGN KEY (EDITORA_CODIGO) REFERENCES EDITORA(CODIGO));
CREATE TABLE AUTOR(AUTOR VARCHAR(150) NOT NULL,
                   LIVRO_ISBN INT NOT NULL,
                   PRIMARY KEY (AUTOR, LIVRO_ISBN),
                   FOREIGN KEY (LIVRO_ISBN) REFERENCES LIVRO(ISBN));
CREATE TABLE CLIENTE_LIVRO(CODIGO_CLIENTE INT NOT NULL,
                           LIVRO_ISBN INT NOT NULL,
                           DATA DATETIME,
                           PRIMARY KEY (CODIGO_CLIENTE, LIVRO_ISBN),
                           FOREIGN KEY (CODIGO_CLIENTE) REFERENCES CLIENTE(CODIGO),
                           FOREIGN KEY (LIVRO_ISBN) REFERENCES LIVRO(ISBN));

-- Inserindo Dados
-- Inserindo Clientes
INSERT INTO CLIENTE(CEP, NUMERO, TELEFONE)
VALUES (17700000, '115', '35282115');
INSERT INTO CLIENTE(CEP, NUMERO, TELEFONE)
VALUES (17700000, '20', '996518723');
INSERT INTO CLIENTE(CEP, NUMERO, TELEFONE)
VALUES (17700000, '200', '35283133');
INSERT INTO CLIENTE(CEP, NUMERO, TELEFONE)
VALUES (17700000, '225A', '998762314');
INSERT INTO CLIENTE(CEP, NUMERO, TELEFONE)
VALUES (19010000, '250', '997657319');

-- Inserindo Pessoa Fisica
INSERT INTO PF(CPF, CLIENTE_CODIGO) VALUES(634744572, 2);
INSERT INTO PF(CPF, CLIENTE_CODIGO) VALUES(335837765, 3);
INSERT INTO PF(CPF, CLIENTE_CODIGO) VALUES(352524941, 4);
INSERT INTO PF(CPF, CLIENTE_CODIGO) VALUES(294183573, 5);

-- Inserindo Pessoa Juridica
INSERT INTO PJ(CNPJ, CLIENTE_CODIGO) VALUES(195654135, 1);

-- Inserindo Editoras
INSERT INTO EDITORA(GERENTE, CEP, NUMERO, TELEFONE) 
VALUES('Carlos Abrantes', 17730000, '125B', '998764431');
INSERT INTO EDITORA(GERENTE, CEP, NUMERO, TELEFONE) 
VALUES('Marlon Brando', 17740970, '365', '998956464');
INSERT INTO EDITORA(GERENTE, CEP, NUMERO, TELEFONE) 
VALUES('Alberto Camaroes', 11900971, '142D', '981765431');
INSERT INTO EDITORA(GERENTE, CEP, NUMERO, TELEFONE) 
VALUES('Marta Arruda', 08694590, '450', '996533411');
INSERT INTO EDITORA(GERENTE, CEP, NUMERO, TELEFONE) 
VALUES('Rose Vecchi', 08694590, '101', '998775123');

-- Inserindo Livros
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(999215810, 'Historia', 12, 1);
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(965215340, 'Historia', 25, 1);
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(923215885, 'Ficção', 144, 2);
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(994115886, 'Fantasia', 9, 2);
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(947515800, 'Ação', 31, 3);
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(998315566, 'Ação', 33, 3);
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(912218989, 'Fantasia', 45, 4);
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(987750098, 'Historia', 75, 4);
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(991159002, 'Academico', 43, 5);
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(993159977, 'Drama', 59, 5);
INSERT INTO LIVRO(ISBN, ASSUNTO, QUANTIDADE, EDITORA_CODIGO) VALUES(932157777, 'Romance', 31, 5);

-- Inserindo Autores
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Augusto Silva', 999215810);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Antonio Carlos', 999215810);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Miranda Junior', 965215340);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Alberto Norten', 965215340);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Martin Carlos', 923215885);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Arlindo Balbin', 994115886);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Marcos Antonio', 947515800);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Arlindo Gomes', 998315566);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Martinho Gomes', 912218989);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Marta Gomes Neto', 987750098);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Marcia Silva', 991159002);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Amando Pereira', 993159977);
INSERT INTO AUTOR(AUTOR, LIVRO_ISBN) VALUES('Dandara Vecchi', 932157777);

-- Inserindo Compras
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(999215810, 1, '2021-03-06');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(993159977, 1, '2021-05-12');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(991159002, 1, '2021-07-25');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(987750098, 2, '2021-03-21');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(991159002, 2, '2021-03-13');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(923215885, 2, '2021-03-22');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(965215340, 2, '2021-05-10');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(999215810, 3, '2021-03-01');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(965215340, 3, '2021-03-27');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(932157777, 4, '2021-07-12');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(993159977, 4, '2021-10-30');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(999215810, 5, '2021-03-03');
INSERT INTO CLIENTE_LIVRO(LIVRO_ISBN, CODIGO_CLIENTE, DATA) VALUES(923215885, 5, '2021-03-27');